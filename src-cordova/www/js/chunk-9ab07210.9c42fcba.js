(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9ab07210"],{"0481":function(e,t,n){"use strict";var r=n("23e7"),i=n("a2bf"),a=n("7b0b"),o=n("50c4"),s=n("a691"),c=n("65f0");r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=a(this),n=o(t.length),r=c(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:s(e)),r}})},"0789":function(e,t,n){"use strict";n("99af");var r=n("d9f7");function i(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=Array()).concat.apply(e,[t].concat(r))}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top center 0",n=arguments.length>2?arguments[2]:void 0;return{name:e,functional:!0,props:{group:{type:Boolean,default:!1},hideOnLeave:{type:Boolean,default:!1},leaveAbsolute:{type:Boolean,default:!1},mode:{type:String,default:n},origin:{type:String,default:t}},render:function(t,n){var a="transition".concat(n.props.group?"-group":""),o={props:{name:e,mode:n.props.mode},on:{beforeEnter:function(e){e.style.transformOrigin=n.props.origin,e.style.webkitTransformOrigin=n.props.origin}}};return n.props.leaveAbsolute&&(o.on.leave=i(o.on.leave,(function(e){return e.style.position="absolute"}))),n.props.hideOnLeave&&(o.on.leave=i(o.on.leave,(function(e){return e.style.display="none"}))),t(a,Object(r["a"])(n.data,o),n.children)}}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"in-out";return{name:e,functional:!0,props:{mode:{type:String,default:n}},render:function(n,i){return n("transition",Object(r["a"])(i.data,{props:{name:e},on:t}),i.children)}}}var s=n("ade3"),c=n("80d2"),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?"width":"height",r="offset".concat(Object(c["s"])(n));return{beforeEnter:function(e){e._parent=e.parentNode,e._initialStyle=Object(s["a"])({transition:e.style.transition,visibility:e.style.visibility,overflow:e.style.overflow},n,e.style[n])},enter:function(t){var i=t._initialStyle,a="".concat(t[r],"px");t.style.setProperty("transition","none","important"),t.style.visibility="hidden",t.style.visibility=i.visibility,t.style.overflow="hidden",t.style[n]="0",t.offsetHeight,t.style.transition=i.transition,e&&t._parent&&t._parent.classList.add(e),requestAnimationFrame((function(){t.style[n]=a}))},afterEnter:a,enterCancelled:a,leave:function(e){e._initialStyle=Object(s["a"])({transition:"",visibility:"",overflow:e.style.overflow},n,e.style[n]),e.style.overflow="hidden",e.style[n]="".concat(e[r],"px"),e.offsetHeight,requestAnimationFrame((function(){return e.style[n]="0"}))},afterLeave:i,leaveCancelled:i};function i(t){e&&t._parent&&t._parent.classList.remove(e),a(t)}function a(e){var t=e._initialStyle[n];e.style.overflow=e._initialStyle.overflow,null!=t&&(e.style[n]=t),delete e._initialStyle}};n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f}));a("carousel-transition"),a("carousel-reverse-transition"),a("tab-transition"),a("tab-reverse-transition"),a("menu-transition"),a("fab-transition","center center","out-in"),a("dialog-transition"),a("dialog-bottom-transition");var u=a("fade-transition"),d=(a("scale-transition"),a("scroll-x-transition"),a("scroll-x-reverse-transition"),a("scroll-y-transition"),a("scroll-y-reverse-transition"),a("slide-x-transition")),h=(a("slide-x-reverse-transition"),a("slide-y-transition"),a("slide-y-reverse-transition"),o("expand-transition",l())),f=o("expand-x-transition",l("",!0))},"23f4":function(e,t,n){e.exports=n.p+"img/ynfLogo.3e25f66a.png"},"297c":function(e,t,n){"use strict";n("a9e3");var r=n("8bbf"),i=n.n(r),a=n("37c6");t["a"]=i.a.extend().extend({name:"loadable",props:{loading:{type:[Boolean,String],default:!1},loaderHeight:{type:[Number,String],default:2}},methods:{genProgress:function(){return!1===this.loading?null:this.$slots.progress||this.$createElement(a["a"],{props:{absolute:!0,color:!0===this.loading||""===this.loading?this.color||"primary":this.loading,height:this.loaderHeight,indeterminate:!0}})}}})},"37c6":function(e,t,n){"use strict";var r=n("8e36");t["a"]=r["a"]},4069:function(e,t,n){var r=n("44d2");r("flat")},"46ea":function(e,t,n){"use strict";var r=n("930b"),i=n.n(r);i.a},"6ece":function(e,t,n){},"8ce9":function(e,t,n){},"8e36":function(e,t,n){"use strict";n("a4d3"),n("4de4"),n("a9e3"),n("e439"),n("dbb4"),n("b64b"),n("acd8"),n("c7cd"),n("159b");var r=n("ade3"),i=(n("6ece"),n("0789")),a=n("a9ad"),o=n("fe6c"),s=n("a452"),c=n("7560"),l=n("80d2"),u=n("58df");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=Object(u["a"])(a["a"],Object(o["b"])(["absolute","fixed","top","bottom"]),s["a"],c["a"]);t["a"]=f.extend({name:"v-progress-linear",props:{active:{type:Boolean,default:!0},backgroundColor:{type:String,default:null},backgroundOpacity:{type:[Number,String],default:null},bufferValue:{type:[Number,String],default:100},color:{type:String,default:"primary"},height:{type:[Number,String],default:4},indeterminate:Boolean,query:Boolean,rounded:Boolean,stream:Boolean,striped:Boolean,value:{type:[Number,String],default:0}},data:function(){return{internalLazyValue:this.value||0}},computed:{__cachedBackground:function(){return this.$createElement("div",this.setBackgroundColor(this.backgroundColor||this.color,{staticClass:"v-progress-linear__background",style:this.backgroundStyle}))},__cachedBar:function(){return this.$createElement(this.computedTransition,[this.__cachedBarType])},__cachedBarType:function(){return this.indeterminate?this.__cachedIndeterminate:this.__cachedDeterminate},__cachedBuffer:function(){return this.$createElement("div",{staticClass:"v-progress-linear__buffer",style:this.styles})},__cachedDeterminate:function(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__determinate",style:{width:Object(l["d"])(this.normalizedValue,"%")}}))},__cachedIndeterminate:function(){return this.$createElement("div",{staticClass:"v-progress-linear__indeterminate",class:{"v-progress-linear__indeterminate--active":this.active}},[this.genProgressBar("long"),this.genProgressBar("short")])},__cachedStream:function(){return this.stream?this.$createElement("div",this.setTextColor(this.color,{staticClass:"v-progress-linear__stream",style:{width:Object(l["d"])(100-this.normalizedBuffer,"%")}})):null},backgroundStyle:function(){var e,t=null==this.backgroundOpacity?this.backgroundColor?1:.3:parseFloat(this.backgroundOpacity);return e={opacity:t},Object(r["a"])(e,this.$vuetify.rtl?"right":"left",Object(l["d"])(this.normalizedValue,"%")),Object(r["a"])(e,"width",Object(l["d"])(this.normalizedBuffer-this.normalizedValue,"%")),e},classes:function(){return h({"v-progress-linear--absolute":this.absolute,"v-progress-linear--fixed":this.fixed,"v-progress-linear--query":this.query,"v-progress-linear--reactive":this.reactive,"v-progress-linear--rounded":this.rounded,"v-progress-linear--striped":this.striped},this.themeClasses)},computedTransition:function(){return this.indeterminate?i["c"]:i["d"]},normalizedBuffer:function(){return this.normalize(this.bufferValue)},normalizedValue:function(){return this.normalize(this.internalLazyValue)},reactive:function(){return Boolean(this.$listeners.change)},styles:function(){var e={};return this.active||(e.height=0),this.indeterminate||100===parseFloat(this.normalizedBuffer)||(e.width=Object(l["d"])(this.normalizedBuffer,"%")),e}},methods:{genContent:function(){var e=Object(l["l"])(this,"default",{value:this.internalLazyValue});return e?this.$createElement("div",{staticClass:"v-progress-linear__content"},e):null},genListeners:function(){var e=this.$listeners;return this.reactive&&(e.click=this.onClick),e},genProgressBar:function(e){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-progress-linear__indeterminate",class:Object(r["a"])({},e,!0)}))},onClick:function(e){if(this.reactive){var t=this.$el.getBoundingClientRect(),n=t.width;this.internalValue=e.offsetX/n*100}},normalize:function(e){return e<0?0:e>100?100:parseFloat(e)}},render:function(e){var t={staticClass:"v-progress-linear",attrs:{role:"progressbar","aria-valuemin":0,"aria-valuemax":this.normalizedBuffer,"aria-valuenow":this.indeterminate?void 0:this.normalizedValue},class:this.classes,style:{bottom:this.bottom?0:void 0,height:this.active?Object(l["d"])(this.height):0,top:this.top?0:void 0},on:this.genListeners()};return e("div",t,[this.__cachedStream,this.__cachedBackground,this.__cachedBuffer,this.__cachedBar,this.genContent()])}})},"930b":function(e,t,n){},a2bf:function(e,t,n){"use strict";var r=n("e8b5"),i=n("50c4"),a=n("f8c2"),o=function(e,t,n,s,c,l,u,d){var h,f=c,p=0,v=!!u&&a(u,d,3);while(p<s){if(p in n){if(h=v?v(n[p],p,t):n[p],l>0&&r(h))f=o(e,t,h,i(h.length),f,l-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[f]=h}f++}p++}return f};e.exports=o},ce7e:function(e,t,n){"use strict";n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b");var r=n("ade3"),i=(n("8ce9"),n("7560"));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t["a"]=i["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render:function(e){var t;return this.$attrs.role&&"separator"!==this.$attrs.role||(t=this.vertical?"vertical":"horizontal"),e("hr",{class:o({"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical},this.themeClasses),attrs:o({role:"separator","aria-orientation":t},this.$attrs),on:this.$listeners})}})},d9f7:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("a4d3"),n("e01a"),n("d28b"),n("99af"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("ac1f"),n("3ca3"),n("1276"),n("498a"),n("159b"),n("ddb0");var r=n("ade3"),i=n("3835"),a=n("80d2");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={styleList:/;(?![^(]*\))/g,styleProp:/:(.*)/};function l(e){var t={},n=!0,r=!1,o=void 0;try{for(var s,l=e.split(c.styleList)[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value,d=u.split(c.styleProp),h=Object(i["a"])(d,2),f=h[0],p=h[1];f=f.trim(),f&&("string"===typeof p&&(p=p.trim()),t[Object(a["c"])(f)]=p)}}catch(v){r=!0,o=v}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return t}function u(){var e,t,n={},r=arguments.length;while(r--)for(var i=0,a=Object.keys(arguments[r]);i<a.length;i++)switch(e=a[i],e){case"class":case"style":case"directives":if(Array.isArray(n[e])||(n[e]=[]),"style"===e){var o=void 0;o=Array.isArray(arguments[r].style)?arguments[r].style:[arguments[r].style];for(var c=0;c<o.length;c++){var u=o[c];"string"===typeof u&&(o[c]=l(u))}arguments[r].style=o}n[e]=n[e].concat(arguments[r][e]);break;case"staticClass":if(!arguments[r][e])break;void 0===n[e]&&(n[e]=""),n[e]&&(n[e]+=" "),n[e]+=arguments[r][e].trim();break;case"on":case"nativeOn":n[e]||(n[e]={});for(var d=n[e],h=0,f=Object.keys(arguments[r][e]||{});h<f.length;h++)t=f[h],d[t]?d[t]=Array().concat(d[t],arguments[r][e][t]):d[t]=arguments[r][e][t];break;case"attrs":case"props":case"domProps":case"scopedSlots":case"staticStyle":case"hook":case"transition":n[e]||(n[e]={}),n[e]=s({},arguments[r][e],{},n[e]);break;case"slot":case"key":case"ref":case"tag":case"show":case"keepAlive":default:n[e]||(n[e]=arguments[r][e])}return n}},dd7b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loginPage-cpnt white d-flex flex-column-reverse"},[n("div",{staticClass:"d-flex flex-column align-center"},[n("div",{staticClass:"d-flex align-center pb-8",attrs:{width:"90"}},[n("v-divider",{attrs:{color:"grey"}}),n("span",{staticClass:"grey--text caption px-4"},[e._v("第三方登录")]),n("v-divider",{attrs:{color:"grey",width:"90"}})],1),n("v-btn",{attrs:{depressed:"",dark:"",color:"#50B674",fab:""},on:{click:e.wxAuth}},[n("v-icon",{attrs:{large:""}},[e._v("mdi-wechat")])],1),n("span",{staticClass:"overline pb-4 pt-12 grey--text text--darken-3"},[e._v(" 登录即代表您已同意"),n("span",{staticClass:"primary--text",on:{click:e.agreement}},[e._v("《颐纳福隐私政策》")])])],1),n("div",{staticClass:"mx-8"},[n("v-text-field",{attrs:{placeholder:"请输入手机号",prefix:"+86",type:"number"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),n("v-text-field",{attrs:{placeholder:"请输入短信验证码",type:"number"},scopedSlots:e._u([{key:"append",fn:function(){return[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.seconds,expression:"seconds"}],attrs:{"x-small":"",dark:"",color:"#06C1AE"}},[e._v(e._s(e.seconds)+"s")]),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!e.seconds,expression:"!seconds"}],attrs:{"x-small":"",dark:"",outlined:"",color:"#06C1AE"},on:{click:function(t){return t.stopPropagation(),e.getCode(t)}}},[e._v("获取")])]},proxy:!0}]),model:{value:e.vCode,callback:function(t){e.vCode=t},expression:"vCode"}}),n("v-text-field",{staticClass:"caption deleteUnderline pt-0 mt-0",attrs:{placeholder:"未注册的手机号验证后将自动创建账号",readonly:""}}),n("v-btn",{staticClass:"subtitle-2 mb-4",attrs:{tile:"",block:"",dark:"",depressed:"",color:"#06C1AE"},on:{click:e.loginBtn}},[e._v("登录")])],1),n("div",{staticClass:"flex-fill d-flex align-center justify-center"},[n("v-img",{attrs:{"max-height":"16.4vw","max-width":"24.13vw",src:e.logo}})],1)])},i=[],a=(n("96cf"),n("1da1")),o={name:"",data:function(){return{seconds:0,exitState:0,phone:"",vCode:"",timer:null,wxLoginable:!0,wxData:null,exitTimeout:null,logo:n("23f4")}},beforeDestroy:function(){clearInterval(this.timer),clearTimeout(this.exitTimeout),document.removeEventListener("backbutton",this.runBack,!1)},mounted:function(){document.addEventListener("backbutton",this.runBack,!1)},methods:{runBack:function(){var e=this;window.plugins.toast.showLongCenter("再点击一次退出!"),this.exitState++,this.exitTimeout=window.setTimeout((function(){e.exitState=0,window.clearTimeout(e.exitTimeout)}),2e3),console.warn("zhiwei:"+this.exitState),this.exitState>1&&navigator.app.exitApp()},checkPhone:function(e){if(!/^1[3456789]\d{9}$/.test(e))return!0},getCode:function(){var e=this;if(this.phone)if(this.checkPhone(this.phone))this.$toast.warning("手机号格式有误，请重填");else{var t={phone:this.phone};this.$http.get("/member/loginMsg",{params:t}).then((function(t){t.data.success&&(e.$toast.success("验证码已发送"),e.seconds=60,e.timer=setInterval((function(){e.seconds--,0===e.seconds&&clearInterval(e.timer)}),1e3))}))}else this.$toast.warning("请输入手机号码")},loginBtn:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(t),this.phone){e.next=4;break}return this.$toast.warning("请输入手机号码"),e.abrupt("return");case 4:if(this.vCode){e.next=7;break}return this.$toast.warning("请输入短信验证码"),e.abrupt("return");case 7:if(!this.checkPhone(this.phone)){e.next=10;break}return this.$toast.warning("手机号格式有误，请重填"),e.abrupt("return");case 10:return n={phone:this.phone,yzcode:this.vCode},this.wxData&&Object.assign(this.wxData,n),e.next=14,this.$http.post("/member/login",this.wxData||n);case 14:r=e.sent,r.data.success&&this.realLogin(r.data.obj);case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),realLogin:function(e){this.$store.dispatch("userLogIn",e),this.$toast.success("登录成功！"),this.setAlias(e.token),this.$router.push("/index")},wxAuth:function(){if(this.wxLoginable){var e=this;Wechat.isInstalled((function(t){if(t){var n="snsapi_userinfo",r="_"+ +new Date;Wechat.auth(n,r,(function(t){console.info(JSON.stringify(t)),e.wxLogin(t.code)}),(function(e){console.error("Failed: "+e)}))}}),(function(e){console.error("Failed: "+e)}))}},wxLogin:function(e){var t=this;this.$http.post("/member/loginForWx",{code:e}).then((function(e){if(e.data.success){if(e.data.obj.wechatType)return void t.realLogin(e.data.obj);e.data.obj.wechatType||(t.wxData={openid:e.data.obj.openid,headimgurl:e.data.obj.headimgurl,nickname:e.data.obj.nickname},t.$toast.success("请绑定手机号"),t.wxLoginable=!1,t.loginBtn(1))}}))},setAlias:function(e){e?(console.warn("开始设置alias--login"),setTimeout((function(){console.error("login---token值为："+localStorage.getItem("token")),window.JPush.setAlias({sequence:1,alias:e},(function(e){console.log(e)}),(function(e){console.log(e)}))}),200)):console.error("token空的？登陆成功没有给token?")},agreement:function(){var e="http://mobile.yinaf.com/page/agreement.html",t=cordova.InAppBrowser.open(e,"_blank","location=no");t.addEventListener("exit",(function(){StatusBar.backgroundColorByHexString("#06C1AE")})),t.addEventListener("loadstop",(function(){StatusBar.backgroundColorByHexString("#fff")}))}}},s=o,c=(n("46ea"),n("2877")),l=n("6544"),u=n.n(l),d=n("8336"),h=n("ce7e"),f=n("132d"),p=n("adda"),v=n("8654"),g=Object(c["a"])(s,r,i,!1,null,null,null);t["default"]=g.exports;u()(g,{VBtn:d["a"],VDivider:h["a"],VIcon:f["a"],VImg:p["a"],VTextField:v["a"]})}}]);
//# sourceMappingURL=chunk-9ab07210.9c42fcba.js.map