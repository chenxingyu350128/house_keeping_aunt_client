(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e609134","chunk-47b7012a"],{"111c":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"income-cpnt grey lighten-3 d-flex flex-column"},[a("iHeader",{attrs:{text:"我的收益"},on:{hide:function(e){return t.$emit("hide")}}}),a("v-card",{staticClass:"px-8 py-6 d-flex align-center justify-space-between subtitle-1",attrs:{dark:"",flat:"",tile:"",color:"primary"}},[a("div",{staticClass:"d-flex flex-column font-effect-shadow-multiple"},[t._v(" 账户余额 "),a("span",{staticClass:"headline font-weight-bold mt-1"},[t._v("￥"+t._s(t.amount))])]),a("div",{staticClass:"d-flex flex-column"},[t._v(" 累计提现：￥"+t._s(t.withdraw)+" "),a("div",{staticClass:"d-flex align-center mt-2",on:{click:function(e){t.showWithdraw=!0}}},[t._v(" 立即提现 "),a("v-icon",{attrs:{large:""}},[t._v("mdi-chevron-right")])],1)])]),a("v-tabs",{staticClass:"white",attrs:{color:"primary",centered:"",grow:""},on:{change:t.tabChange},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",[t._v(" 收益明细 ")]),a("v-tab",[t._v(" 提现记录 ")])],1),t.tab?a("v-tabs-items",{staticClass:"flex-fill flowy_auto"},[t.list.length?a("van-list",{attrs:{"immediate-check":!1,finished:t.allLoaded,"loading-text":"加载中...","finished-text":"-- 已经到底了 --"},on:{load:t.loadBottom}},t._l(t.list,(function(e,s){return a("div",{key:s,staticClass:"caption"},[a("div",{staticClass:"subtitle-2 grey--text text--darken-2  px-4 py-2"},[t._v(t._s(e.year)+"年"+t._s(e.moth)+"月")]),t._l(e.map,(function(e,s){return a("div",{key:s,staticClass:"d-flex align-center px-4 py-2 white"},[a("span",[t._v(t._s(e.newTime))]),a("span",{staticClass:"ml-4"},[t._v("-"+t._s(e.amoun)+"元")]),a("div",{staticClass:"flex-fill d-flex align-center justify-end"},[a("span",{class:{"primary--text":1==e.dataflag,"red--text":2==e.dataflag}},[t._v(t._s(1==e.dataflag?"提现成功":"提现失败"))]),a("v-btn",{staticClass:"ml-2 scale50",attrs:{small:"",fab:"",dark:"",color:"#50B674"}},[a("v-icon",{attrs:{large:""}},[t._v("mdi-wechat")])],1)],1)])}))],2)})),0):a("div",{staticClass:"d-flex flex-column align-center justify-center py-12"},[a("v-img",{attrs:{"max-width":"33.33vw","max-height":"auto",src:t.emptyContent}}),a("span",{staticClass:"mt-4 caption grey--text"},[t._v("快去接单赚收益吧")])],1)],1):t._e(),t.tab?t._e():a("v-tabs-items",{staticClass:"flex-fill flowy_auto"},[t.list.length?a("van-list",{attrs:{"immediate-check":!1,finished:t.allLoaded,"loading-text":"加载中...","finished-text":"-- 已经到底了 --"},on:{load:t.loadBottom}},t._l(t.list,(function(e,s){return a("div",{key:s,staticClass:"caption"},[a("div",{staticClass:"subtitle-2 grey--text text--darken-2  px-4 py-2"},[t._v(t._s(e.year)+"年"+t._s(e.moth)+"月")]),t._l(e.map,(function(e,s){return a("div",{key:s,staticClass:"d-flex align-center px-4 py-2 white"},[a("span",[t._v(t._s(e.newTime))]),a("span",{staticClass:"ml-4"},[t._v(t._s(e.content))]),a("div",{staticClass:"flex-fill d-flex align-center justify-end"},[a("span",{staticClass:"primary--text"},[t._v("+"+t._s(e.amoun)+"元")])])])}))],2)})),0):a("div",{staticClass:"d-flex flex-column align-center justify-center py-12"},[a("v-img",{attrs:{"max-width":"33.33vw","max-height":"auto",src:t.emptyContent}}),a("span",{staticClass:"mt-4 caption grey--text"},[t._v("快去接单赚收益吧")])],1)],1),t.showWithdraw?a("withdrawCash",{attrs:{money:t.amount},on:{hide:function(e){t.showWithdraw=!1}}}):t._e()],1)},n=[],i=(a("99af"),a("96cf"),a("1da1")),r=a("aa63"),o=a("b123"),c={components:{iHeader:r["a"],withdrawCash:o["default"]},data:function(){return{tab:0,amount:0,withdraw:0,page:1,rows:10,list:[],allLoaded:!1,showWithdraw:!1,emptyContent:a("9408")}},created:function(){this.loadBottom=_.debounce(this.loadmore,200)},beforeDestroy:function(){document.removeEventListener("backbutton",this.runBack,!1)},mounted:function(){this.incomeInfo(),this.getList()},watch:{showWithdraw:{handler:function(t){t?document.removeEventListener("backbutton",this.runBack,!1):document.addEventListener("backbutton",this.runBack,!1)},immediate:!0}},methods:{runBack:function(){this.$emit("hide")},tabChange:function(t){this.tab=t,this.page=1,this.list=[],this.getList()},toWithDraw:function(){this.$router.push({path:"/withdraw",query:{money:this.amount}})},incomeInfo:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={auntId:this.$store.state.user.auntId,token:this.$store.state.user.token},t.next=3,this.$http.get("/other/findMoney",{params:e});case 3:a=t.sent,a.data.success&&(this.withdraw=a.data.obj.withdraw,this.amount=a.data.obj.amount);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),loadmore:function(){this.page++,this.getList(9527)},getList:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var a,s,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={auntId:this.$store.state.user.auntId,token:this.$store.state.user.token,recordState:this.tab+1,rows:this.rows,page:this.page},t.next=3,this.$http.get("/other/findDetailed",{params:a});case 3:s=t.sent,s.data.success&&(n=s.data.pager,i=s.data.rows,this.allLoaded=n.currentPage===n.totalPages,this.list=e?this.list.concat(i):i);case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},l=c,d=(a("67a8"),a("2877")),u=a("6544"),h=a.n(u),m=a("8336"),f=a("b0af"),p=a("132d"),v=a("adda"),w=a("71a3"),b=a("fe57"),x=a("aac8"),g=Object(d["a"])(l,s,n,!1,null,null,null);e["default"]=g.exports;h()(g,{VBtn:m["a"],VCard:f["a"],VIcon:p["a"],VImg:v["a"],VTab:w["a"],VTabs:b["a"],VTabsItems:x["a"]})},"1c1a":function(t,e,a){"use strict";var s=a("2e76"),n=a.n(s);n.a},"2e76":function(t,e,a){},"3f37":function(t,e,a){},"67a8":function(t,e,a){"use strict";var s=a("3f37"),n=a.n(s);n.a},"99d9":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return o})),a.d(e,"c",(function(){return c}));var s=a("b0af"),n=a("80d2"),i=Object(n["f"])("v-card__actions"),r=Object(n["f"])("v-card__subtitle"),o=Object(n["f"])("v-card__text"),c=Object(n["f"])("v-card__title");s["a"]},b123:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Withdraw-cpnt grey lighten-3"},[a("iHeader",{attrs:{text:"提现"},on:{hide:function(e){return t.$emit("hide")}}}),t.showResult?a("div",{staticClass:"d-flex flex-column align-center py-10"},[a("v-icon",{attrs:{size:"65",color:t.withdrawSuccess?"green accent-4":"red accent-4"}},[t._v(t._s(t.withdrawSuccess?"mdi-check-circle":"mdi-close-circle"))]),a("span",{staticClass:"title font-weight-bold my-4"},[t._v(t._s(t.withdrawSuccess?"提现成功":"提现失败"))]),a("span",{staticClass:"subtitle-2 my-3"},[t._v(t._s(t.withdrawSuccess?"提现金额将尽快到账，请注意查收":"请重新提交提现申请"))]),a("v-btn",{attrs:{depressed:"",rounded:"",dark:"",color:t.withdrawSuccess?"green accent-4":"red accent-4"},on:{click:t.btnReturn}},[t._v("返回")])],1):a("div",[a("div",{staticClass:"py-12 d-flex flex-column align-center white mb-2"},[a("span",{staticClass:"headline font-weight-bold grey--text text--darken-3 mb-6"},[t._v("可提现余额")]),a("span",{staticClass:"headline font-weight-bold primary--text"},[t._v("￥"+t._s(t.money))])]),a("div",{staticClass:"white subtitle-2"},[a("div",{staticClass:"d-flex align-center px-4 py-2"},[t._v(" 到账微信 "),t.wechatType?a("span",{staticClass:"ml-6 primary--text caption"},[t._v("微信账号已绑定")]):a("v-btn",{staticClass:"ml-6",attrs:{small:"",outlined:"",dark:"",color:"primary"},on:{click:t.bindWx}},[t._v("请绑定微信")])],1),a("v-text-field",{staticClass:"mx-4 pb-0",attrs:{prefix:"提现金额",placeholder:"最低提现金额为50元",type:"number"},model:{value:t.wanna,callback:function(e){t.wanna=e},expression:"wanna"}})],1),t._m(0),a("v-footer",{staticClass:"pa-0",attrs:{fixed:"",bottom:""}},[a("v-btn",{attrs:{dark:"",depressed:"",block:"",tile:"",color:"primary"},on:{click:t.btnClick}},[t._v("提交申请")])],1)],1),a("v-bottom-sheet",{staticClass:"white",attrs:{persistent:""},model:{value:t.showBottomSheet,callback:function(e){t.showBottomSheet=e},expression:"showBottomSheet"}},[a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-title",{staticClass:"subtitle-1 font-weight-bold primary--text justify-center"},[t._v(" 输入短信验证码 ")]),a("v-card-text",[t._v(" 短信将发送至"+t._s(t.userName)+" "),a("v-text-field",{attrs:{prefix:"验证码",placeholder:"请输入短信验证码",type:"number"},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.seconds,expression:"seconds"}],attrs:{small:"",dark:"",color:"#06C1AE"}},[t._v(t._s(t.seconds)+"s")]),a("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.seconds,expression:"!seconds"}],attrs:{small:"",dark:"",outlined:"",color:"#06C1AE"},on:{click:t.getCode}},[t._v("获取")])]},proxy:!0}]),model:{value:t.vCode,callback:function(e){t.vCode=e},expression:"vCode"}})],1),a("v-card-actions",[a("v-btn",{staticClass:"flex-fill",attrs:{large:"",tile:"",small:"",dark:"",outlined:"",color:"primary"},on:{click:function(e){t.showBottomSheet=!1}}},[t._v("取消提现")]),a("v-btn",{staticClass:"flex-fill",attrs:{large:"",tile:"",small:"",dark:"",depressed:"",color:"primary"},on:{click:t.certain}},[t._v("确认提现")])],1)],1)],1)],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"px-4 py-2 caption"},[a("p",[t._v("1.工作日16:00之前提现当日到账，16:00之后提现第二个工作日到账")]),a("p",[t._v("2.提现金额3000元以上，需收取3元手续费。")])])}],i=(a("a9e3"),a("96cf"),a("1da1")),r=a("aa63"),o={props:{money:{type:Number,required:!1}},components:{iHeader:r["a"]},data:function(){return{seconds:0,timer:null,wanna:"",vCode:"",showBottomSheet:!1,withdrawSuccess:!1,showResult:!1}},computed:{wechatType:function(){return+this.$store.state.user.wechatType},userName:function(){return+this.$store.state.user.userName}},mounted:function(){document.addEventListener("backbutton",this.runBack,!1),this.init()},beforeDestroy:function(){clearInterval(this.timer),document.removeEventListener("backbutton",this.runBack,!1)},methods:{btnReturn:function(){this.withdrawSuccess&&this.init(),this.showResult=!1},runBack:function(){this.$emit("hide")},bindWx:function(){var t=this;Wechat.isInstalled((function(e){if(e){var a="snsapi_userinfo",s="_"+ +new Date,n={auntId:t.$store.state.user.auntId};Wechat.auth(a,s,(function(e){n.code=e.code,t.$http.post("/other/updateWx",n).then((function(e){e.data.success&&(t.wechatType=1,t.$store.commit("CHANGE_SINGLE_STATE",["wechatType",1]),t.$toast.success(e.data.msg))}))}),(function(t){console.error("Failed: "+t)}))}}),(function(t){console.error("Failed: "+t)}))},init:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={auntId:this.$store.state.user.auntId,token:this.$store.state.user.token},t.next=3,this.$http.get("/other/findMoney",{params:e});case 3:a=t.sent,a.data.success&&(this.money=a.data.obj.amount);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),btnClick:function(){this.wechatType?this.wanna?this.wanna<50?this.$toast.error("提现金额最少为50元"):this.wanna>this.money?this.$toast.error("可提现余额不足"):this.showBottomSheet=!0:this.$toast.error("请填写提现金额"):this.$toast.error("请先绑定微信")},getCode:function(){var t=this,e={phone:this.userName};this.$http.get("/member/loginMsg",{params:e}).then((function(e){e.data.success&&(t.$toast("验证码已发送",{color:"success",y:"top"}),t.seconds=60,t.timer=setInterval((function(){t.seconds--,0===t.seconds&&clearInterval(t.timer)}),1e3))}))},certain:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.vCode||this.$toast("请输入短信验证码",{y:"top",color:"error"}),e={auntId:this.$store.state.user.auntId,token:this.$store.state.user.token,amount:this.wanna,phone:this.userName,yzcode:this.vCode},t.next=4,this.$http.post("/other/deposit",e);case 4:a=t.sent,a.data.success&&(this.withdrawSuccess=!0),this.seconds=0,clearInterval(this.timer),this.showBottomSheet=!1,this.showResult=!0;case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},c=o,l=(a("1c1a"),a("2877")),d=a("6544"),u=a.n(d),h=a("288c"),m=a("8336"),f=a("b0af"),p=a("99d9"),v=a("553a"),w=a("132d"),b=a("8654"),x=Object(l["a"])(c,s,n,!1,null,null,null);e["default"]=x.exports;u()(x,{VBottomSheet:h["a"],VBtn:m["a"],VCard:f["a"],VCardActions:p["a"],VCardText:p["b"],VCardTitle:p["c"],VFooter:v["a"],VIcon:w["a"],VTextField:b["a"]})}}]);
//# sourceMappingURL=chunk-0e609134.6516cb83.js.map